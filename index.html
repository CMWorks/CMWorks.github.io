<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0>
    <style> body {padding: 0; margin: 0;} </style>
    <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.min.js"></script>
    <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/addons/p5.dom.min.js"></script>
    <script>

    function setup() {
      createCanvas(800, 800);
      pixelDensity(1);
      loadPixels();
      for(var x = 0; x < width; x++){
        for(var y = 0; y < height; y++){

          var a = map(x, 0, width, -2, 2);
          var b = map(y, 0, height, -2, 2);

          var ogA = a;
          var ogB = b;

          var i = 0;
          while( i < 100 ){
            var real = a * a - b * b + ogA;
            var imag = 2 * a * b + ogB;
            a = real;
            b = imag;
            if(abs(a + b) > 16)
              break;
            i++;
          }

          var bright = map(i, 0, 100, 0, 255);

          if(i==100)
            bright = 0;

          var pix = (x + y * width) * 4;
          pixels[pix + 0] = bright;
          pixels[pix + 1] = bright;
          pixels[pix + 2] = bright;
          pixels[pix + 3] = 255;
        }
      }
      updatePixels();
    }


    </script>
  </head>
  <body>
  </body>
</html>
